From 19128a6456e0aca398a72d207562cbbdca529f31 Mon Sep 17 00:00:00 2001
From: Josua Mayer <josua@solid-run.com>
Date: Mon, 29 Dec 2025 16:47:41 +0100
Subject: [PATCH 23/23] arm64: dts: add description for lx2160a cex7 on
 half-twins board

Signed-off-by: Josua Mayer <josua@solid-run.com>
---
 arch/arm64/boot/dts/freescale/Makefile        |   1 +
 .../boot/dts/freescale/fsl-lx2160a-cex7.dtsi  |   6 +-
 .../dts/freescale/fsl-lx2160a-half-twins.dts  | 673 ++++++++++++++++++
 .../arm64/boot/dts/freescale/fsl-lx2160a.dtsi |  24 +-
 4 files changed, 689 insertions(+), 15 deletions(-)
 create mode 100644 arch/arm64/boot/dts/freescale/fsl-lx2160a-half-twins.dts

diff --git a/arch/arm64/boot/dts/freescale/Makefile b/arch/arm64/boot/dts/freescale/Makefile
index e2a7258c4e34..75081f70b820 100644
--- a/arch/arm64/boot/dts/freescale/Makefile
+++ b/arch/arm64/boot/dts/freescale/Makefile
@@ -44,6 +44,7 @@ dtb-$(CONFIG_ARCH_LAYERSCAPE) += fsl-lx2160a-bluebox3.dtb
 dtb-$(CONFIG_ARCH_LAYERSCAPE) += fsl-lx2160a-bluebox3-rev-a.dtb
 dtb-$(CONFIG_ARCH_LAYERSCAPE) += fsl-lx2160a-cex6-evb.dtb
 dtb-$(CONFIG_ARCH_LAYERSCAPE) += fsl-lx2160a-clearfog-cx.dtb
+dtb-$(CONFIG_ARCH_LAYERSCAPE) += fsl-lx2160a-half-twins.dtb
 dtb-$(CONFIG_ARCH_LAYERSCAPE) += fsl-lx2160a-honeycomb.dtb
 dtb-$(CONFIG_ARCH_LAYERSCAPE) += fsl-lx2160a-qds.dtb
 dtb-$(CONFIG_ARCH_LAYERSCAPE) += fsl-lx2160a-rdb.dtb
diff --git a/arch/arm64/boot/dts/freescale/fsl-lx2160a-cex7.dtsi b/arch/arm64/boot/dts/freescale/fsl-lx2160a-cex7.dtsi
index 707797a80c05..7642908d88a6 100644
--- a/arch/arm64/boot/dts/freescale/fsl-lx2160a-cex7.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-lx2160a-cex7.dtsi
@@ -62,7 +62,7 @@ i2c-mux@77 {
 		#size-cells = <0>;
 		reg = <0x77>;
 
-		i2c@0 {
+		ddr_i2c: i2c@0 {
 			#address-cells = <1>;
 			#size-cells = <0>;
 			reg = <0>;
@@ -88,7 +88,7 @@ eeprom@57 {
 			};
 		};
 
-		i2c@1 {
+		fan_i2c: i2c@1 {
 			#address-cells = <1>;
 			#size-cells = <0>;
 			reg = <1>;
@@ -102,7 +102,7 @@ fan-temperature-ctrlr@18 {
 			};
 		};
 
-		i2c@2 {
+		power_i2c: i2c@2 {
 			#address-cells = <1>;
 			#size-cells = <0>;
 			reg = <2>;
diff --git a/arch/arm64/boot/dts/freescale/fsl-lx2160a-half-twins.dts b/arch/arm64/boot/dts/freescale/fsl-lx2160a-half-twins.dts
new file mode 100644
index 000000000000..142eb3ca4345
--- /dev/null
+++ b/arch/arm64/boot/dts/freescale/fsl-lx2160a-half-twins.dts
@@ -0,0 +1,673 @@
+// SPDX-License-Identifier: (GPL-2.0 OR MIT)
+//
+// Device Tree file for LX2160A based half twins
+//
+// Copyright 2022 SolidRun Ltd.
+
+/dts-v1/;
+
+#include "fsl-lx2160a-cex7.dtsi"
+#include <dt-bindings/input/linux-event-codes.h>
+
+/ {
+	model = "SolidRun LX2160A Twins";
+	compatible = "solidrun,clearfog-twins", "solidrun,lx2160a-cex7", "fsl,lx2160a";
+
+	aliases {
+		serial0 = &uart0;
+		serial1 = &uart1;
+		gpio0 = &gpio0;
+		gpio1 = &gpio1;
+		gpio2 = &gpio0;
+		gpio3 = &gpio3;
+		gpio4 = &expander0;
+		gpio5 = &expander1;
+		gpio6 = &expander2;
+		gpio7 = &expander3;
+		i2c0 = &i2c0;
+		i2c1 = &i2c2;
+		i2c2 = &i2c4;
+		i2c3 = &fan_i2c;
+		i2c4 = &power_i2c;
+		i2c5 = &i2c_smb;
+		i2c6 = &sfp0_i2c;
+		i2c7 = &sfp1_i2c;
+		i2c8 = &sfp2_i2c;
+		i2c9 = &sfp3_i2c;
+		i2c10 = &twins_sfp_c1_at_i2c;
+		i2c11 = &twins_sfp_c1_ab_i2c;
+		i2c12 = &twins_sfp_c1_bt_i2c;
+		i2c13 = &twins_sfp_c1_bb_i2c;
+		i2c14 = &twins_sfp_c2_at_i2c;
+		i2c15 = &twins_sfp_c2_ab_i2c;
+		i2c16 = &twins_sfp_c2_bt_i2c;
+		i2c17 = &twins_sfp_c2_bb_i2c;
+		i2c18 = &twins_sfp_c3_at_i2c;
+		i2c19 = &twins_sfp_c3_ab_i2c;
+		i2c20 = &twins_sfp_c3_bt_i2c;
+		i2c21 = &twins_sfp_c3_bb_i2c;
+		i2c22 = &htwins_sfp_c3_at_i2c;
+		i2c23 = &htwins_sfp_c3_ab_i2c;
+		i2c24 = &htwins_sfp_c3_bt_i2c;
+		i2c25 = &htwins_sfp_c3_bb_i2c;
+		i2c26 = &ddr_i2c;
+		mmc0 = &esdhc0;
+		mmc1 = &esdhc1;
+	};
+
+	chosen {
+		stdout-path = "serial0:115200n8";
+	};
+};
+
+/* raise thermal trip points to absolute maximum */
+&cluster6_7_alert {
+	temperature = <100000>;
+};
+
+&cluster6_7_crit {
+	temperature = <105000>;
+};
+
+&ddr_cluster5_alert {
+	temperature = <100000>;
+};
+
+&ddr_cluster5_crit {
+	temperature = <105000>;
+};
+
+&wriop_alert {
+	temperature = <100000>;
+};
+
+&wriop_crit {
+	temperature = <105000>;
+};
+
+&dce_qbman_alert {
+	temperature = <100000>;
+};
+
+&dce_qbman_crit {
+	temperature = <105000>;
+};
+
+&ccn_dpaa_alert {
+	temperature = <100000>;
+};
+
+&ccn_dpaa_crit {
+	temperature = <105000>;
+};
+
+&clust4_hsio3_alert {
+	temperature = <100000>;
+};
+
+&clust4_hsio3_crit {
+	temperature = <105000>;
+};
+
+&cluster2_3_alert {
+	temperature = <100000>;
+};
+
+&cluster2_3_crit {
+	temperature = <105000>;
+};
+
+&i2c2 {
+	i2c-mux@76 {
+		compatible = "nxp,pca9547";
+		#address-cells = <1>;
+		#size-cells = <0>;
+		reg = <0x76>;
+		i2c-mux-idle-disconnect;
+
+		twins_sfp_c1_at_i2c: i2c@1 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			reg = <1>;
+		};
+
+		twins_sfp_c1_ab_i2c: i2c@2 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			reg = <2>;
+		};
+
+		twins_sfp_c1_bt_i2c: i2c@3 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			reg = <3>;
+		};
+
+		twins_sfp_c1_bb_i2c: i2c@4 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			reg = <4>;
+		};
+
+		twins_sfp_c2_at_i2c: i2c@5 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			reg = <5>;
+		};
+
+		twins_sfp_c2_ab_i2c: i2c@6 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			reg = <6>;
+		};
+	};
+
+	i2c-mux@77 {
+		compatible = "nxp,pca9547";
+		#address-cells = <1>;
+		#size-cells = <0>;
+		reg = <0x77>;
+		i2c-mux-idle-disconnect;
+
+		twins_sfp_c2_bt_i2c: i2c@1 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			reg = <1>;
+		};
+
+		twins_sfp_c2_bb_i2c: i2c@2 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			reg = <2>;
+		};
+
+		twins_sfp_c3_at_i2c: i2c@3 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			reg = <3>;
+		};
+
+		twins_sfp_c3_ab_i2c: i2c@4 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			reg = <4>;
+		};
+
+		twins_sfp_c3_bt_i2c: i2c@5 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			reg = <5>;
+		};
+
+		twins_sfp_c3_bb_i2c: i2c@6 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			reg = <6>;
+		};
+	};
+
+	expander0: gpio@20 {
+		compatible = "nxp,pca9555";
+		gpio-controller;
+		#gpio-cells = <2>;
+		reg = <0x20>;
+	};
+
+	expander1: gpio@21 {
+		compatible = "nxp,pca9555";
+		gpio-controller;
+		#gpio-cells = <2>;
+		reg = <0x21>;
+	};
+
+	/* Half twins configuration; take over c3 from the other twin side */
+	i2c-mux@73 {
+		compatible = "nxp,pca9547";
+		#address-cells = <1>;
+		#size-cells = <0>;
+		reg = <0x73>;
+		i2c-mux-idle-disconnect;
+		htwins_sfp_c3_at_i2c: i2c@3 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			reg = <3>;
+		};
+
+		htwins_sfp_c3_ab_i2c: i2c@4 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			reg = <4>;
+		};
+
+		htwins_sfp_c3_bt_i2c: i2c@5 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			reg = <5>;
+		};
+
+		htwins_sfp_c3_bb_i2c: i2c@6 {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			reg = <6>;
+		};
+	};
+
+	expander2: gpio@24 {
+		compatible = "nxp,pca9555";
+		gpio-controller;
+		#gpio-cells = <2>;
+		reg = <0x24>;
+	};
+
+	expander3: gpio@25 {
+		compatible = "nxp,pca9555";
+		gpio-controller;
+		#gpio-cells = <2>;
+		reg = <0x25>;
+	};
+};
+
+/ {
+	c1_at_sfp: c1-at-sfp {
+		compatible = "sff,sfp";
+		i2c-bus = <&twins_sfp_c1_at_i2c>;
+		mod-def0-gpio = <&expander0 1 GPIO_ACTIVE_LOW>;
+		maximum-power-milliwatt = <2000>;
+	};
+
+	c1_ab_sfp: c1-ab-sfp {
+		compatible = "sff,sfp";
+		i2c-bus = <&twins_sfp_c1_ab_i2c>;
+		mod-def0-gpio = <&expander0 2 GPIO_ACTIVE_LOW>;
+		maximum-power-milliwatt = <2000>;
+	};
+
+	c1_bt_sfp: c1-bt-sfp {
+		compatible = "sff,sfp";
+		i2c-bus = <&twins_sfp_c1_bt_i2c>;
+		mod-def0-gpio = <&expander0 3 GPIO_ACTIVE_LOW>;
+		maximum-power-milliwatt = <2000>;
+	};
+
+	c1_bb_sfp: c1-bb-sfp {
+		compatible = "sff,sfp";
+		i2c-bus = <&twins_sfp_c1_bb_i2c>;
+		mod-def0-gpio = <&expander0 4 GPIO_ACTIVE_LOW>;
+		maximum-power-milliwatt = <2000>;
+	};
+
+	c2_at_sfp: c2-at-sfp {
+		compatible = "sff,sfp";
+		i2c-bus = <&twins_sfp_c2_at_i2c>;
+		mod-def0-gpio = <&expander0 5 GPIO_ACTIVE_LOW>;
+		maximum-power-milliwatt = <2000>;
+	};
+
+	c2_ab_sfp: c2-ab-sfp {
+		compatible = "sff,sfp";
+		i2c-bus = <&twins_sfp_c2_ab_i2c>;
+		mod-def0-gpio = <&expander0 6 GPIO_ACTIVE_LOW>;
+		maximum-power-milliwatt = <2000>;
+	};
+
+	c2_bt_sfp: c2-bt-sfp {
+		compatible = "sff,sfp";
+		i2c-bus = <&twins_sfp_c2_bt_i2c>;
+		mod-def0-gpio = <&expander0 9 GPIO_ACTIVE_LOW>;
+		maximum-power-milliwatt = <2000>;
+	};
+
+	c2_bb_sfp: c2-bb-sfp {
+		compatible = "sff,sfp";
+		i2c-bus = <&twins_sfp_c2_bb_i2c>;
+		mod-def0-gpio = <&expander0 10 GPIO_ACTIVE_LOW>;
+		maximum-power-milliwatt = <2000>;
+	};
+
+	c3_at_sfp: c3-at-sfp {
+		compatible = "sff,sfp";
+		i2c-bus = <&twins_sfp_c3_at_i2c>;
+		mod-def0-gpio = <&expander0 11 GPIO_ACTIVE_LOW>;
+		maximum-power-milliwatt = <2000>;
+	};
+
+	c3_ab_sfp: c3-ab-sfp {
+		compatible = "sff,sfp";
+		i2c-bus = <&twins_sfp_c3_ab_i2c>;
+		mod-def0-gpio = <&expander0 12 GPIO_ACTIVE_LOW>;
+		maximum-power-milliwatt = <2000>;
+	};
+
+	c3_bt_sfp: c3-bt-sfp {
+		compatible = "sff,sfp";
+		i2c-bus = <&twins_sfp_c3_bt_i2c>;
+		mod-def0-gpio = <&expander0 13 GPIO_ACTIVE_LOW>;
+		maximum-power-milliwatt = <2000>;
+	};
+
+	c3_bb_sfp: c3-bb-sfp {
+		compatible = "sff,sfp";
+		i2c-bus = <&twins_sfp_c3_bb_i2c>;
+		mod-def0-gpio = <&expander0 14 GPIO_ACTIVE_LOW>;
+		maximum-power-milliwatt = <2000>;
+	};
+
+	ht_c3_at_sfp: ht-c3-at-sfp {
+		compatible = "sff,sfp";
+		i2c-bus = <&htwins_sfp_c3_at_i2c>;
+		mod-def0-gpio = <&expander2 11 GPIO_ACTIVE_LOW>;
+		maximum-power-milliwatt = <2000>;
+	};
+
+	ht_c3_ab_sfp: ht-c3-ab-sfp {
+		compatible = "sff,sfp";
+		i2c-bus = <&htwins_sfp_c3_ab_i2c>;
+		mod-def0-gpio = <&expander2 12 GPIO_ACTIVE_LOW>;
+		maximum-power-milliwatt = <2000>;
+	};
+
+	ht_c3_bt_sfp: ht-c3-bt-sfp {
+		compatible = "sff,sfp";
+		i2c-bus = <&htwins_sfp_c3_bt_i2c>;
+		mod-def0-gpio = <&expander2 13 GPIO_ACTIVE_LOW>;
+		maximum-power-milliwatt = <2000>;
+	};
+
+	ht_c3_bb_sfp: ht-c3-bb-sfp {
+		compatible = "sff,sfp";
+		i2c-bus = <&htwins_sfp_c3_bb_i2c>;
+		mod-def0-gpio = <&expander2 14 GPIO_ACTIVE_LOW>;
+		maximum-power-milliwatt = <2000>;
+	};
+
+	leds {
+		compatible = "gpio-leds";
+		led_c1_at: led-c1-at {
+			gpios = <&expander1 1 GPIO_ACTIVE_LOW>;
+			default-state = "off";
+			linux,default-trigger = "netdev";
+			trigger-sources = <&dpmac3>;
+		};
+		led_c1_ab: led-c1-ab {
+			gpios = <&expander1 2 GPIO_ACTIVE_LOW>;
+			default-state = "off";
+			linux,default-trigger = "netdev";
+			trigger-sources = <&dpmac12>;
+		};
+		led_c1_bt: led-c1-bt {
+			gpios = <&expander1 4 GPIO_ACTIVE_LOW>;
+			default-state = "off";
+			linux,default-trigger = "netdev";
+			trigger-sources = <&dpmac4>;
+		};
+		led_c1_bb: led-c1-bb {
+			gpios = <&expander1 3 GPIO_ACTIVE_LOW>;
+			default-state = "off";
+			linux,default-trigger = "netdev";
+			trigger-sources = <&dpmac17>;
+		};
+		led_c2_at: led-c2-at {
+			gpios = <&expander1 5 GPIO_ACTIVE_LOW>;
+			default-state = "off";
+			linux,default-trigger = "netdev";
+			trigger-sources = <&dpmac7>;
+		};
+		led_c2_ab: led-c2-ab {
+			gpios = <&expander1 6 GPIO_ACTIVE_LOW>;
+			default-state = "off";
+			linux,default-trigger = "netdev";
+			trigger-sources = <&dpmac18>;
+		};
+		led_c2_bt: led-c2-bt {
+			gpios = <&expander1 10 GPIO_ACTIVE_LOW>;
+			default-state = "off";
+			linux,default-trigger = "netdev";
+			trigger-sources = <&dpmac8>;
+		};
+		led_c2_bb: led-c2-bb {
+			gpios = <&expander1 9 GPIO_ACTIVE_LOW>;
+			default-state = "off";
+			linux,default-trigger = "netdev";
+			trigger-sources = <&dpmac16>;
+		};
+		led_c3_at: led-c3-at {
+			gpios = <&expander1 11 GPIO_ACTIVE_LOW>;
+			default-state = "off";
+			linux,default-trigger = "netdev";
+			trigger-sources = <&dpmac9>;
+		};
+		led_c3_ab: led-c3-ab {
+			gpios = <&expander1 12 GPIO_ACTIVE_LOW>;
+			default-state = "off";
+			linux,default-trigger = "netdev";
+			trigger-sources = <&dpmac13>;
+		};
+		led_c3_bt: led-c3-bt {
+			gpios = <&expander1 14 GPIO_ACTIVE_LOW>;
+			default-state = "off";
+			linux,default-trigger = "netdev";
+			trigger-sources = <&dpmac10>;
+		};
+		led_c3_bb: led-c3-bb {
+			gpios = <&expander1 13 GPIO_ACTIVE_LOW>;
+			default-state = "off";
+			linux,default-trigger = "netdev";
+			trigger-sources = <&dpmac14>;
+		};
+		led_ht_c3_at: led-ht-c3-at {
+			gpios = <&expander3 11 GPIO_ACTIVE_LOW>;
+			default-state = "off";
+			linux,default-trigger = "netdev";
+			trigger-sources = <&dpmac6>;
+		};
+		led_ht_c3_ab: led-ht-c3-ab {
+			gpios = <&expander3 12 GPIO_ACTIVE_LOW>;
+			default-state = "off";
+			linux,default-trigger = "netdev";
+			trigger-sources = <&dpmac11>;
+		};
+		led_ht_c3_bt: led-ht-c3-bt {
+			gpios = <&expander3 14 GPIO_ACTIVE_LOW>;
+			default-state = "off";
+			linux,default-trigger = "netdev";
+			trigger-sources = <&dpmac5>;
+		};
+		led_ht_c3_bb: led-ht-c3-bb {
+			gpios = <&expander3 13 GPIO_ACTIVE_LOW>;
+			default-state = "off";
+			linux,default-trigger = "netdev";
+			trigger-sources = <&dpmac15>;
+		};
+	};
+};
+
+/* SD1 lanes #0.. #7 */
+&dpmac3 {
+	sfp = <&c1_at_sfp>;
+	managed = "in-band-status";
+	phys = <&serdes_1 7>;
+};
+
+&dpmac4 {
+	sfp = <&c1_bt_sfp>;
+	managed = "in-band-status";
+	phys = <&serdes_1 6>;
+};
+
+&dpmac5 {
+	sfp = <&ht_c3_bt_sfp>;
+	managed = "in-band-status";
+	phys = <&serdes_1 5>;
+};
+
+&dpmac6 {
+	sfp = <&ht_c3_at_sfp>;
+	managed = "in-band-status";
+	phys = <&serdes_1 4>;
+};
+
+&dpmac7 {
+	sfp = <&c2_at_sfp>;
+	managed = "in-band-status";
+	phys = <&serdes_1 3>;
+};
+
+&dpmac8 {
+	sfp = <&c2_bt_sfp>;
+	managed = "in-band-status";
+	phys = <&serdes_1 2>;
+};
+
+&dpmac9 {
+	sfp = <&c3_at_sfp>;
+	managed = "in-band-status";
+	phys = <&serdes_1 1>;
+};
+
+&dpmac10 {
+	sfp = <&c3_bt_sfp>;
+	managed = "in-band-status";
+	phys = <&serdes_1 0>;
+};
+
+/* SD2 lanes #0.. #7 */
+&dpmac11 {
+	sfp = <&ht_c3_ab_sfp>;
+	managed = "in-band-status";
+	phys = <&serdes_2 0>;
+};
+
+&dpmac12 {
+	sfp = <&c1_ab_sfp>;
+	managed = "in-band-status";
+	phys = <&serdes_2 1>;
+};
+
+&dpmac13 { // ok
+	sfp = <&c3_ab_sfp>;
+	managed = "in-band-status";
+	phys = <&serdes_2 6>;
+};
+
+&dpmac14 { // ok
+	sfp = <&c3_bb_sfp>;
+	managed = "in-band-status";
+	phys = <&serdes_2 7>;
+};
+
+&dpmac15 {
+	sfp = <&ht_c3_bb_sfp>;
+	managed = "in-band-status";
+	phys = <&serdes_2 4>;
+};
+
+&dpmac16 {
+	sfp = <&c2_bb_sfp>;
+	managed = "in-band-status";
+	phys = <&serdes_2 5>;
+};
+
+&dpmac17 {
+	/* override connection to on-COM phy */
+	/delete-property/ phy-handle;
+	/delete-property/ phy-connection-type;
+	sfp = <&c1_bb_sfp>;
+	managed = "in-band-status";
+	phys = <&serdes_2 2>;
+};
+
+&dpmac18 {
+	sfp = <&c2_ab_sfp>;
+	managed = "in-band-status";
+	phys = <&serdes_2 3>;
+};
+
+&esdhc0 {
+	/*
+	 * Disable 1.8V modes so that microsd state is same between
+	 * power-on-reset, u-boot and linux.
+	 * This avoids sporadic read errors after hard reset with some cards.
+	 */
+	no-1-v-8;
+	status = "okay";
+};
+
+&pcs_mdio3 {
+	status = "okay";
+};
+
+&pcs_mdio4 {
+	status = "okay";
+};
+
+&pcs_mdio5 {
+	status = "okay";
+};
+
+&pcs_mdio6 {
+	status = "okay";
+};
+
+&pcs_mdio7 {
+	status = "okay";
+};
+
+&pcs_mdio8 {
+	status = "okay";
+};
+
+&pcs_mdio9 {
+	status = "okay";
+};
+
+&pcs_mdio10 {
+	status = "okay";
+};
+
+&pcs_mdio11 {
+	status = "okay";
+};
+
+&pcs_mdio12 {
+	status = "okay";
+};
+
+&pcs_mdio13 {
+	status = "okay";
+};
+
+&pcs_mdio14 {
+	status = "okay";
+};
+
+&pcs_mdio15 {
+	status = "okay";
+};
+
+&pcs_mdio16 {
+	status = "okay";
+};
+
+&pcs_mdio17 {
+	status = "okay";
+};
+
+&pcs_mdio18 {
+	status = "okay";
+};
+
+&rgmii_phy1 {
+	/*
+	 * COM has a phy at address 1 connected to SoC Ethernet Controller 1.
+	 * It competes for WRIOP MAC17, and no connector has been wired.
+	 */
+	status = "disabled";
+};
+
+&uart0 {
+	status = "okay";
+};
+
+&uart1 {
+	status = "okay";
+};
diff --git a/arch/arm64/boot/dts/freescale/fsl-lx2160a.dtsi b/arch/arm64/boot/dts/freescale/fsl-lx2160a.dtsi
index 821785c197b7..535ef2be52b6 100644
--- a/arch/arm64/boot/dts/freescale/fsl-lx2160a.dtsi
+++ b/arch/arm64/boot/dts/freescale/fsl-lx2160a.dtsi
@@ -499,13 +499,13 @@ ddr-cluster5 {
 			thermal-sensors = <&tmu 1>;
 
 			trips {
-				ddr-cluster5-alert {
+				ddr_cluster5_alert: ddr-cluster5-alert {
 					temperature = <85000>;
 					hysteresis = <2000>;
 					type = "passive";
 				};
 
-				ddr-cluster5-crit {
+				ddr_cluster5_crit: ddr-cluster5-crit {
 					temperature = <95000>;
 					hysteresis = <2000>;
 					type = "critical";
@@ -519,13 +519,13 @@ wriop {
 			thermal-sensors = <&tmu 2>;
 
 			trips {
-				wriop-alert {
+				wriop_alert: wriop-alert {
 					temperature = <85000>;
 					hysteresis = <2000>;
 					type = "passive";
 				};
 
-				wriop-crit {
+				wriop_crit: wriop-crit {
 					temperature = <95000>;
 					hysteresis = <2000>;
 					type = "critical";
@@ -539,13 +539,13 @@ dce-qbman-hsio2 {
 			thermal-sensors = <&tmu 3>;
 
 			trips {
-				dce-qbman-alert {
+				dce_qbman_alert: dce-qbman-alert {
 					temperature = <85000>;
 					hysteresis = <2000>;
 					type = "passive";
 				};
 
-				dce-qbman-crit {
+				dce_qbman_crit: dce-qbman-crit {
 					temperature = <95000>;
 					hysteresis = <2000>;
 					type = "critical";
@@ -559,13 +559,13 @@ ccn-dpaa-tbu {
 			thermal-sensors = <&tmu 4>;
 
 			trips {
-				ccn-dpaa-alert {
+				ccn_dpaa_alert: ccn-dpaa-alert {
 					temperature = <85000>;
 					hysteresis = <2000>;
 					type = "passive";
 				};
 
-				ccn-dpaa-crit {
+				ccn_dpaa_crit: ccn-dpaa-crit {
 					temperature = <95000>;
 					hysteresis = <2000>;
 					type = "critical";
@@ -579,13 +579,13 @@ cluster4-hsio3 {
 			thermal-sensors = <&tmu 5>;
 
 			trips {
-				clust4-hsio3-alert {
+				clust4_hsio3_alert: clust4-hsio3-alert {
 					temperature = <85000>;
 					hysteresis = <2000>;
 					type = "passive";
 				};
 
-				clust4-hsio3-crit {
+				clust4_hsio3_crit: clust4-hsio3-crit {
 					temperature = <95000>;
 					hysteresis = <2000>;
 					type = "critical";
@@ -599,13 +599,13 @@ cluster2-3 {
 			thermal-sensors = <&tmu 6>;
 
 			trips {
-				cluster2-3-alert {
+				cluster2_3_alert: cluster2-3-alert {
 					temperature = <85000>;
 					hysteresis = <2000>;
 					type = "passive";
 				};
 
-				cluster2-3-crit {
+				cluster2_3_crit: cluster2-3-crit {
 					temperature = <95000>;
 					hysteresis = <2000>;
 					type = "critical";
-- 
2.51.0

