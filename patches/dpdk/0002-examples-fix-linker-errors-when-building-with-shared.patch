From 3eed9bd854f9cee9f22f839ac7f03043ee95a563 Mon Sep 17 00:00:00 2001
From: Josua Mayer <josua@solid-run.com>
Date: Thu, 3 Jul 2025 15:54:59 +0300
Subject: [PATCH 2/2] examples: fix linker errors when building with shared
 libraries

Signed-off-by: Josua Mayer <josua@solid-run.com>
---
 examples/l3fwd/meson.build         | 2 +-
 examples/pkt_split_app/meson.build | 6 ++----
 examples/qdma_demo/meson.build     | 2 +-
 3 files changed, 4 insertions(+), 6 deletions(-)

diff --git a/examples/l3fwd/meson.build b/examples/l3fwd/meson.build
index ee1ac4b430..fdfe48f124 100644
--- a/examples/l3fwd/meson.build
+++ b/examples/l3fwd/meson.build
@@ -7,7 +7,7 @@
 # DPDK instance, use 'make'
 
 allow_experimental_apis = true
-deps += ['hash', 'lpm', 'fib', 'eventdev']
+deps += ['hash', 'lpm', 'fib', 'eventdev', 'net_dpaa2']
 sources = files(
         'l3fwd_em.c',
         'l3fwd_event.c',
diff --git a/examples/pkt_split_app/meson.build b/examples/pkt_split_app/meson.build
index 72aee41d8b..2bb0d4a57d 100644
--- a/examples/pkt_split_app/meson.build
+++ b/examples/pkt_split_app/meson.build
@@ -7,10 +7,8 @@
 # DPDK instance, use 'make'
 
 deps += ['ip_frag']
-
-if dpdk_conf.has('RTE_LIBRTE_DPAA_PMD')
-	deps += ['net_dpaa']
-endif
+deps += ['net_dpaa']
+deps += ['net_dpaa2']
 
 # Enable experimental API flag as l2fwd uses rte_ethdev_set_ptype API
 allow_experimental_apis = true
diff --git a/examples/qdma_demo/meson.build b/examples/qdma_demo/meson.build
index cea29ce92c..f98ec9127e 100644
--- a/examples/qdma_demo/meson.build
+++ b/examples/qdma_demo/meson.build
@@ -6,7 +6,7 @@
 # To build this example as a standalone application with an already-installed
 # DPDK instance, use 'make'
 
-deps += ['dmadev']
+deps += ['dmadev', 'dma_dpaa2']
 allow_experimental_apis = true
 sources = files(
 	'main.c'
-- 
2.43.0

