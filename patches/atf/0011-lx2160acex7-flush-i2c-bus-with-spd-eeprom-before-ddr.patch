From 722e93b7d159dfb9435e642cb0b38c2255a10391 Mon Sep 17 00:00:00 2001
From: Josua Mayer <josua@solid-run.com>
Date: Fri, 25 Oct 2024 18:11:56 +0200
Subject: [PATCH 11/11] lx2160acex7: flush i2c bus with spd eeprom before ddr
 init

Signed-off-by: Josua Mayer <josua@solid-run.com>
---
 plat/nxp/soc-lx2160a/lx2160acex7/platform.mk | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/plat/nxp/soc-lx2160a/lx2160acex7/platform.mk b/plat/nxp/soc-lx2160a/lx2160acex7/platform.mk
index 37598c2d7..0b064bbbf 100644
--- a/plat/nxp/soc-lx2160a/lx2160acex7/platform.mk
+++ b/plat/nxp/soc-lx2160a/lx2160acex7/platform.mk
@@ -24,6 +24,11 @@ APPLY_MAX_CDD	:=	yes
 LX2160A_S5_GPIO_ADDR := NXP_GPIO3_ADDR
 LX2160A_S5_GPIO := 7
 
+# I2C Bus Flushing: IIC1
+LX2160_FLUSH_IIC := 1,
+# I2C Mux Flushing: IIC1: PCA9547@77: Channel 0 (SPD EEPROM)
+LX2160_FLUSH_IIC_MUX := { 1, 0x77, 0x01 },
+
 # DDR Errata
 ERRATA_DDR_A011396	:= 1
 ERRATA_DDR_A050450	:= 1
-- 
2.43.0

